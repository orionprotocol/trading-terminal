{"version":3,"file":"polyfills.js","sources":["../node_modules/promise-polyfill/promise.js","../node_modules/whatwg-fetch/fetch.js"],"sourcesContent":["(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n"],"names":["root","setTimeoutFunc","setTimeout","noop","Promise","fn","this","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","e","reject","promise","resolve","push","newValue","then","finale","thisArg","apply","arguments","length","_unhandledRejectionFn","i","len","Handler","done","value","reason","ex","prototype","prom","all","arr","args","Array","slice","call","remaining","res","val","constructor","race","values","setImmediate","err","console","warn","_setImmediateFn","_setUnhandledRejectionFn","module","exports","fetch","support","Symbol","Blob","viewClasses","isDataView","obj","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","Headers","append","name","normalizeName","normalizeValue","oldValue","map","get","has","hasOwnProperty","set","forEach","callback","keys","items","iteratorFor","entries","iterator","methods","Request","clone","body","_bodyInit","Body","Response","status","statusText","headers","url","error","response","type","redirectStatuses","redirect","RangeError","location","input","init","request","xhr","XMLHttpRequest","onload","rawHeaders","options","getAllResponseHeaders","split","line","parts","key","shift","trim","join","responseURL","responseText","onerror","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","String","test","toLowerCase","next","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","result","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","Error","rejected","arrayBuffer","text","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","json","JSON","parse","upcased","mode","toUpperCase","referrer","form","bytes","replace","decodeURIComponent","bodyInit","ok"],"mappings":"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"}